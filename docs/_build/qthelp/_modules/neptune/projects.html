<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>neptune.projects</title>
    <link rel="stylesheet" href="../../_static/nonav.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <h1>Source code for neptune.projects</h1><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Copyright (c) 2019, Neptune Labs Sp. z o.o.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1">#</span>

<span class="kn">import</span> <span class="nn">atexit</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">platform</span> <span class="k">import</span> <span class="n">node</span> <span class="k">as</span> <span class="n">get_hostname</span>

<span class="kn">import</span> <span class="nn">click</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">six</span>

<span class="kn">from</span> <span class="nn">neptune.envs</span> <span class="k">import</span> <span class="n">NOTEBOOK_ID_ENV_NAME</span><span class="p">,</span> <span class="n">NOTEBOOK_PATH_ENV_NAME</span>
<span class="kn">from</span> <span class="nn">neptune.exceptions</span> <span class="k">import</span> <span class="n">NoExperimentContext</span>
<span class="kn">from</span> <span class="nn">neptune.experiments</span> <span class="k">import</span> <span class="n">Experiment</span>
<span class="kn">from</span> <span class="nn">neptune.internal.abort</span> <span class="k">import</span> <span class="n">DefaultAbortImpl</span>
<span class="kn">from</span> <span class="nn">neptune.internal.notebooks.notebooks</span> <span class="k">import</span> <span class="n">create_checkpoint</span>
<span class="kn">from</span> <span class="nn">neptune.internal.storage.storage_utils</span> <span class="k">import</span> <span class="n">UploadEntry</span><span class="p">,</span> <span class="n">normalize_file_name</span>
<span class="kn">from</span> <span class="nn">neptune.utils</span> <span class="k">import</span> <span class="n">as_list</span><span class="p">,</span> <span class="n">map_keys</span><span class="p">,</span> <span class="n">get_git_info</span><span class="p">,</span> <span class="n">discover_git_repo_location</span><span class="p">,</span> <span class="n">glob</span>

<span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="Project"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project">[docs]</a><span class="k">class</span> <span class="nc">Project</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># pylint: disable=redefined-builtin</span>

    <span class="sd">&quot;&quot;&quot;A class for storing information and managing Neptune project.</span>

<span class="sd">    Args:</span>
<span class="sd">        backend (:class:`~neptune.Backend`, required): A Backend object.</span>
<span class="sd">        internal_id (:obj:`str`, required): UUID of the project.</span>
<span class="sd">        namespace (:obj:`str`, required): It can either be your organization or user name.</span>
<span class="sd">        name (:obj:`str`, required): project name.</span>

<span class="sd">    Note:</span>
<span class="sd">        ``namespace`` and ``name`` joined together with ``/`` form ``project_qualified_name``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="n">internal_id</span><span class="p">,</span> <span class="n">namespace</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">backend</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span> <span class="o">=</span> <span class="n">internal_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">namespace</span> <span class="o">=</span> <span class="n">namespace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">RLock</span><span class="p">()</span>
        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_shutdown_hook</span><span class="p">)</span>

<div class="viewcode-block" id="Project.get_members"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.get_members">[docs]</a>    <span class="k">def</span> <span class="nf">get_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve a list of project members.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :obj:`str` - A list of usernames of project members.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                project = session.get_projects(&#39;neptune-ai&#39;)[&#39;neptune-ai/Salt-Detection&#39;]</span>
<span class="sd">                project.get_members()</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">project_members</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">get_project_members</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">member</span><span class="o">.</span><span class="n">registeredMemberInfo</span><span class="o">.</span><span class="n">username</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">project_members</span> <span class="k">if</span> <span class="n">member</span><span class="o">.</span><span class="n">registeredMemberInfo</span><span class="p">]</span></div>

<div class="viewcode-block" id="Project.get_experiments"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.get_experiments">[docs]</a>    <span class="k">def</span> <span class="nf">get_experiments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">owner</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_running_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve list of experiments matching the specified criteria.</span>

<span class="sd">        All parameters are optional, each of them specifies a single criterion.</span>
<span class="sd">        Only experiments matching all of the criteria will be returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            id (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | An experiment id like ``&#39;SAN-1&#39;`` or list of ids like ``[&#39;SAN-1&#39;, &#39;SAN-2&#39;]``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            state (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | An experiment state like ``&#39;succeeded&#39;`` or list of states like ``[&#39;succeeded&#39;, &#39;running&#39;]``.</span>
<span class="sd">                | Possible values: ``&#39;running&#39;``, ``&#39;succeeded&#39;``, ``&#39;failed&#39;``, ``&#39;aborted&#39;``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            owner (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | *Username* of the experiment owner (User who created experiment is an owner) like ``&#39;josh&#39;``</span>
<span class="sd">                  or list of owners like ``[&#39;frederic&#39;, &#39;josh&#39;]``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            tag (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                 | An experiment tag like ``&#39;lightGBM&#39;`` or list of tags like ``[&#39;pytorch&#39;, &#39;cycleLR&#39;]``.</span>
<span class="sd">                 | Only experiments that have all specified tags will match this criterion.</span>
<span class="sd">            min_running_time (:obj:`int`, optional, default is ``None``):</span>
<span class="sd">                Minimum running time of an experiment in seconds, like ``2000``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~neptune.experiments.Experiment` objects.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                # Fetch a project</span>
<span class="sd">                project = session.get_projects(&#39;neptune-ai&#39;)[&#39;neptune-ai/Salt-Detection&#39;]</span>

<span class="sd">                # Get list of experiments</span>
<span class="sd">                project.get_experiments(state=[&#39;aborted&#39;], owner=[&#39;neyo&#39;], min_running_time=100000)</span>

<span class="sd">                # Example output:</span>
<span class="sd">                # [Experiment(SAL-1609),</span>
<span class="sd">                #  Experiment(SAL-1765),</span>
<span class="sd">                #  Experiment(SAL-1941),</span>
<span class="sd">                #  Experiment(SAL-1960),</span>
<span class="sd">                #  Experiment(SAL-2025)]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">leaderboard_entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_leaderboard</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">min_running_time</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Experiment</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">entry</span><span class="o">.</span><span class="n">internal_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">leaderboard_entries</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Project.get_leaderboard"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.get_leaderboard">[docs]</a>    <span class="k">def</span> <span class="nf">get_leaderboard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">owner</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_running_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch Neptune experiments view as pandas ``DataFrame``.</span>

<span class="sd">        **returned DataFrame**</span>

<span class="sd">        | In the returned ``DataFrame`` each *row* is an experiment and *columns* represent all system properties,</span>
<span class="sd">          numeric and text logs, parameters and properties in these experiments.</span>
<span class="sd">        | Note that, returned ``DataFrame`` does not contain all columns across the entire project.</span>
<span class="sd">        | Some columns may be empty, since experiments may define various logs, properties, etc.</span>
<span class="sd">        | For each log at most one (the last one) value is returned per experiment.</span>
<span class="sd">        | Text values are trimmed to 255 characters.</span>

<span class="sd">        **about parameters**</span>

<span class="sd">        All parameters are optional, each of them specifies a single criterion.</span>
<span class="sd">        Only experiments matching all of the criteria will be returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            id (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | An experiment id like ``&#39;SAN-1&#39;`` or list of ids like ``[&#39;SAN-1&#39;, &#39;SAN-2&#39;]``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            state (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | An experiment state like ``&#39;succeeded&#39;`` or list of states like ``[&#39;succeeded&#39;, &#39;running&#39;]``.</span>
<span class="sd">                | Possible values: ``&#39;running&#39;``, ``&#39;succeeded&#39;``, ``&#39;failed&#39;``, ``&#39;aborted&#39;``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            owner (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | *Username* of the experiment owner (User who created experiment is an owner) like ``&#39;josh&#39;``</span>
<span class="sd">                  or list of owners like ``[&#39;frederic&#39;, &#39;josh&#39;]``.</span>
<span class="sd">                | Matching any element of the list is sufficient to pass criterion.</span>
<span class="sd">            tag (:obj:`str` or :obj:`list` of :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                | An experiment tag like ``&#39;lightGBM&#39;`` or list of tags like ``[&#39;pytorch&#39;, &#39;cycleLR&#39;]``.</span>
<span class="sd">                | Only experiments that have all specified tags will match this criterion.</span>
<span class="sd">            min_running_time (:obj:`int`, optional, default is ``None``):</span>
<span class="sd">                Minimum running time of an experiment in seconds, like ``2000``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`pandas.DataFrame` - Fetched Neptune experiments view.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                # Fetch a project.</span>
<span class="sd">                project = session.get_projects(&#39;neptune-ai&#39;)[&#39;neptune-ai/Salt-Detection&#39;]</span>

<span class="sd">                # Get DataFrame that resembles experiment view.</span>
<span class="sd">                project.get_leaderboard(state=[&#39;aborted&#39;], owner=[&#39;neyo&#39;], min_running_time=100000)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">leaderboard_entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_leaderboard</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">min_running_time</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">make_row</span><span class="p">(</span><span class="n">entry</span><span class="p">):</span>
            <span class="n">channels</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="p">(</span><span class="s1">&#39;channel_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ch</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">ch</span><span class="o">.</span><span class="n">trimmed_y</span><span class="p">)</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">entry</span><span class="o">.</span><span class="n">channels</span>
            <span class="p">)</span>

            <span class="n">parameters</span> <span class="o">=</span> <span class="n">map_keys</span><span class="p">(</span><span class="s1">&#39;parameter_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">entry</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="n">map_keys</span><span class="p">(</span><span class="s1">&#39;property_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">entry</span><span class="o">.</span><span class="n">properties</span><span class="p">)</span>

            <span class="n">r</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">system_properties</span><span class="p">)</span>
            <span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span>
            <span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>
            <span class="n">r</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">r</span>

        <span class="n">rows</span> <span class="o">=</span> <span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">make_row</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="k">for</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">leaderboard_entries</span><span class="p">))</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">rows</span><span class="p">),</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sort_leaderboard_columns</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df</span></div>

<div class="viewcode-block" id="Project.create_experiment"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.create_experiment">[docs]</a>    <span class="k">def</span> <span class="nf">create_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">upload_source_files</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">abort_callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">upload_stdout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">upload_stderr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">send_hardware_metrics</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">run_monitoring_thread</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">handle_uncaught_exceptions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">git_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">notebook_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">notebook_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create and start Neptune experiment.</span>

<span class="sd">        Create experiment, set its status to `running` and append it to the top of the experiments view.</span>
<span class="sd">        All parameters are optional, hence minimal invocation: ``neptune.create_experiment()``.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (:obj:`str`, optional, default is ``&#39;Untitled&#39;``):</span>
<span class="sd">                Editable name of the experiment.</span>
<span class="sd">                Name is displayed in the experiment&#39;s `Details` (`Metadata` section)</span>
<span class="sd">                and in `experiments view` as a column.</span>

<span class="sd">            description (:obj:`str`, optional, default is ``&#39;&#39;``):</span>
<span class="sd">                Editable description of the experiment.</span>
<span class="sd">                Description is displayed in the experiment&#39;s `Details` (`Metadata` section)</span>
<span class="sd">                and can be displayed in the `experiments view` as a column.</span>

<span class="sd">            params (:obj:`dict`, optional, default is ``{}``):</span>
<span class="sd">                Parameters of the experiment.</span>
<span class="sd">                After experiment creation ``params`` are read-only</span>
<span class="sd">                (see: :meth:`~neptune.experiments.Experiment.get_parameters`).</span>
<span class="sd">                Parameters are displayed in the experiment&#39;s `Details` (`Parameters` section)</span>
<span class="sd">                and each key-value pair can be viewed in `experiments view` as a column.</span>

<span class="sd">            properties (:obj:`dict`, optional, default is ``{}``):</span>
<span class="sd">                Properties of the experiment.</span>
<span class="sd">                They are editable after experiment is created.</span>
<span class="sd">                Properties are displayed in the experiment&#39;s `Details` (`Properties` section)</span>
<span class="sd">                and each key-value pair can be viewed in `experiments view` as a column.</span>

<span class="sd">            tags (:obj:`list`, optional, default is ``[]``):</span>
<span class="sd">                Must be list of :obj:`str`. Tags of the experiment.</span>
<span class="sd">                They are editable after experiment is created</span>
<span class="sd">                (see: :meth:`~neptune.experiments.Experiment.append_tag`</span>
<span class="sd">                and :meth:`~neptune.experiments.Experiment.remove_tag`).</span>
<span class="sd">                Tags are displayed in the experiment&#39;s `Details` (`Metadata` section)</span>
<span class="sd">                and can be viewed in `experiments view` as a column.</span>

<span class="sd">            upload_source_files (:obj:`list` or :obj:`str`, optional, default is ``None``):</span>
<span class="sd">                List of source files to be uploaded. Must be list of :obj:`str` or single :obj:`str`.</span>
<span class="sd">                Uploaded sources are displayed in the experiment&#39;s `Source code` tab.</span>

<span class="sd">                | If ``None`` is passed, Python file from which experiment was created will be uploaded.</span>
<span class="sd">                | Pass empty list (``[]``) to upload no files.</span>
<span class="sd">                | Unix style pathname pattern expansion is supported. For example, you can pass ``&#39;*.py&#39;`` to upload</span>
<span class="sd">                  all python source files from the current directory.</span>
<span class="sd">                  For Python 3.5 or later, paths of uploaded files on server are resolved as relative to the</span>
<span class="sd">                | calculated common root of all uploaded source  files. For older Python versions, paths on server are</span>
<span class="sd">                | resolved always as relative to the current directory.</span>
<span class="sd">                  For recursion lookup use ``&#39;**/*.py&#39;`` (for Python 3.5 and later).</span>
<span class="sd">                  For more information see `glob library &lt;https://docs.python.org/3/library/glob.html&gt;`_.</span>

<span class="sd">            abort_callback (:obj:`callable`, optional, default is ``None``):</span>
<span class="sd">                Callback that defines how `abort experiment` action in the Web application should work.</span>
<span class="sd">                Actual behavior depends on your setup:</span>

<span class="sd">                    * (default) If ``abort_callback=None`` and `psutil &lt;https://psutil.readthedocs.io/en/latest/&gt;`_</span>
<span class="sd">                      is installed, then current process and it&#39;s children are aborted by sending `SIGTERM`.</span>
<span class="sd">                      If, after grace period, processes are not terminated, `SIGKILL` is sent.</span>
<span class="sd">                    * If ``abort_callback=None`` and `psutil &lt;https://psutil.readthedocs.io/en/latest/&gt;`_</span>
<span class="sd">                      is **not** installed, then `abort experiment` action just marks experiment as *aborted*</span>
<span class="sd">                      in the Web application. No action is performed on the current process.</span>
<span class="sd">                    * If ``abort_callback=callable``, then ``callable`` is executed when `abort experiment` action</span>
<span class="sd">                      in the Web application is triggered.</span>

<span class="sd">            logger (:obj:`logging.handlers` or `None`, optional, default is ``None``):</span>
<span class="sd">                If `handler &lt;https://docs.python.org/3.6/library/logging.handlers.html&gt;`_</span>
<span class="sd">                to `Python logger` is passed, new experiment&#39;s `text log`</span>
<span class="sd">                (see: :meth:`~neptune.experiments.Experiment.log_text`) with name `&quot;logger&quot;` is created.</span>
<span class="sd">                Each time `Python logger` logs new data, it is automatically sent to the `&quot;logger&quot;` in experiment.</span>
<span class="sd">                As a results all data from `Python logger` are in the `Logs` tab in the experiment.</span>

<span class="sd">            upload_stdout (:obj:`Boolean`, optional, default is ``True``):</span>
<span class="sd">                Whether to send stdout to experiment&#39;s *Monitoring*.</span>

<span class="sd">            upload_stderr (:obj:`Boolean`, optional, default is ``True``):</span>
<span class="sd">                Whether to send stderr to experiment&#39;s *Monitoring*.</span>

<span class="sd">            send_hardware_metrics (:obj:`Boolean`, optional, default is ``True``):</span>
<span class="sd">                Whether to send hardware monitoring logs (CPU, GPU, Memory utilization) to experiment&#39;s *Monitoring*.</span>

<span class="sd">            run_monitoring_thread (:obj:`Boolean`, optional, default is ``True``):</span>
<span class="sd">                Whether to run thread that pings Neptune server in order to determine if experiment is responsive.</span>

<span class="sd">            handle_uncaught_exceptions (:obj:`Boolean`, optional, default is ``True``):</span>
<span class="sd">                Two options ``True`` and ``False`` are possible:</span>

<span class="sd">                    * If set to ``True`` and uncaught exception occurs, then Neptune automatically place</span>
<span class="sd">                      `Traceback` in the experiment&#39;s `Details` and change experiment status to `Failed`.</span>
<span class="sd">                    * If set to ``False`` and uncaught exception occurs, then no action is performed</span>
<span class="sd">                      in the Web application. As a consequence, experiment&#39;s status is `running` or `not responding`.</span>

<span class="sd">            git_info (:class:`~neptune.git_info.GitInfo`, optional, default is ``None``):</span>

<span class="sd">                | Instance of the class :class:`~neptune.git_info.GitInfo` that provides information about</span>
<span class="sd">                  the git repository from which experiment was started.</span>
<span class="sd">                | If ``None`` is passed,</span>
<span class="sd">                  system attempts to automatically extract information about git repository in the following way:</span>

<span class="sd">                      * System looks for `.git` file in the current directory and, if not found,</span>
<span class="sd">                        goes up recursively until `.git` file will be found</span>
<span class="sd">                        (see: :meth:`~neptune.utils.get_git_info`).</span>
<span class="sd">                      * If there is no git repository,</span>
<span class="sd">                        then no information about git is displayed in experiment details in Neptune web application.</span>

<span class="sd">            hostname (:obj:`str`, optional, default is ``None``):</span>
<span class="sd">                If ``None``, neptune automatically get `hostname` information.</span>
<span class="sd">                User can also set `hostname` directly by passing :obj:`str`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~neptune.experiments.Experiment` object that is used to manage experiment and log data to it.</span>

<span class="sd">        Raises:</span>
<span class="sd">            `ExperimentValidationError`: When provided arguments are invalid.</span>
<span class="sd">            `ExperimentLimitReached`: When experiment limit in the project has been reached.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                # minimal invoke</span>
<span class="sd">                neptune.create_experiment()</span>

<span class="sd">                # explicitly return experiment object</span>
<span class="sd">                experiment = neptune.create_experiment()</span>

<span class="sd">                # create experiment with name and two parameters</span>
<span class="sd">                neptune.create_experiment(name=&#39;first-pytorch-ever&#39;,</span>
<span class="sd">                                          params={&#39;lr&#39;: 0.0005,</span>
<span class="sd">                                                  &#39;dropout&#39;: 0.2})</span>

<span class="sd">                # create experiment with name and description, and no sources files uploaded</span>
<span class="sd">                neptune.create_experiment(name=&#39;neural-net-mnist&#39;,</span>
<span class="sd">                                          description=&#39;neural net trained on MNIST&#39;,</span>
<span class="sd">                                          upload_source_files=[])</span>

<span class="sd">                # Send all py files in cwd (excluding hidden files with names beginning with a dot)</span>
<span class="sd">                neptune.create_experiment(upload_source_files=&#39;*.py&#39;)</span>

<span class="sd">                # Send all py files from all subdirectories (excluding hidden files with names beginning with a dot)</span>
<span class="sd">                # Supported on Python 3.5 and later.</span>
<span class="sd">                neptune.create_experiment(upload_source_files=&#39;**/*.py&#39;)</span>

<span class="sd">                # Send all files and directories in cwd (excluding hidden files with names beginning with a dot)</span>
<span class="sd">                neptune.create_experiment(upload_source_files=&#39;*&#39;)</span>

<span class="sd">                # Send all files and directories in cwd including hidden files</span>
<span class="sd">                neptune.create_experiment(upload_source_files=[&#39;*&#39;, &#39;.*&#39;])</span>

<span class="sd">                # Send files with names being a single character followed by &#39;.py&#39; extension.</span>
<span class="sd">                neptune.create_experiment(upload_source_files=&#39;?.py&#39;)</span>

<span class="sd">                # larger example</span>
<span class="sd">                neptune.create_experiment(name=&#39;first-pytorch-ever&#39;,</span>
<span class="sd">                                          params={&#39;lr&#39;: 0.0005,</span>
<span class="sd">                                                  &#39;dropout&#39;: 0.2},</span>
<span class="sd">                                          properties={&#39;key1&#39;: &#39;value1&#39;,</span>
<span class="sd">                                                      &#39;key2&#39;: 17,</span>
<span class="sd">                                                      &#39;key3&#39;: &#39;other-value&#39;},</span>
<span class="sd">                                          description=&#39;write longer description here&#39;,</span>
<span class="sd">                                          tags=[&#39;list-of&#39;, &#39;tags&#39;, &#39;goes-here&#39;, &#39;as-list-of-strings&#39;],</span>
<span class="sd">                                          upload_source_files=[&#39;training_with_pytorch.py&#39;, &#39;net.py&#39;])</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Untitled&quot;</span>

        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">properties</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">tags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">git_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">git_info</span> <span class="o">=</span> <span class="n">get_git_info</span><span class="p">(</span><span class="n">discover_git_repo_location</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">hostname</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">hostname</span> <span class="o">=</span> <span class="n">get_hostname</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">notebook_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">NOTEBOOK_ID_ENV_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">notebook_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">NOTEBOOK_ID_ENV_NAME</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">upload_source_files</span><span class="p">,</span> <span class="n">six</span><span class="o">.</span><span class="n">string_types</span><span class="p">):</span>
            <span class="n">upload_source_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">upload_source_files</span><span class="p">]</span>

        <span class="n">upload_source_entries</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">main_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">entrypoint</span> <span class="o">=</span> <span class="n">main_file</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">upload_source_files</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">main_file</span><span class="p">):</span>
                <span class="n">entrypoint</span> <span class="o">=</span> <span class="n">normalize_file_name</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">main_file</span><span class="p">))</span>
                <span class="n">upload_source_entries</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">UploadEntry</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">main_file</span><span class="p">),</span> <span class="n">normalize_file_name</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">main_file</span><span class="p">)))</span>
                <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">expanded_source_files</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="n">upload_source_files</span><span class="p">:</span>
                <span class="n">expanded_source_files</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">or</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="n">expanded_source_files</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">filepath</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;You need to have Python 3.5 or later to use paths outside current directory.&#39;</span><span class="p">)</span>
                    <span class="n">upload_source_entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">UploadEntry</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filepath</span><span class="p">),</span> <span class="n">normalize_file_name</span><span class="p">(</span><span class="n">filepath</span><span class="p">)))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">absolute_paths</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="n">expanded_source_files</span><span class="p">:</span>
                    <span class="n">absolute_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">common_source_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">commonpath</span><span class="p">(</span><span class="n">absolute_paths</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">absolute_path</span> <span class="ow">in</span> <span class="n">absolute_paths</span><span class="p">:</span>
                        <span class="n">upload_source_entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">UploadEntry</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">normalize_file_name</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">common_source_root</span><span class="p">):</span>
                        <span class="n">common_source_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">common_source_root</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">common_source_root</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">):</span>
                        <span class="n">common_source_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">absolute_path</span> <span class="ow">in</span> <span class="n">absolute_paths</span><span class="p">:</span>
                        <span class="n">upload_source_entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">UploadEntry</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">normalize_file_name</span><span class="p">(</span>
                            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">common_source_root</span><span class="p">))))</span>

        <span class="k">if</span> <span class="n">notebook_path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">NOTEBOOK_PATH_ENV_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">notebook_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">NOTEBOOK_PATH_ENV_NAME</span><span class="p">]</span>

        <span class="n">abortable</span> <span class="o">=</span> <span class="n">abort_callback</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">DefaultAbortImpl</span><span class="o">.</span><span class="n">requirements_installed</span><span class="p">()</span>

        <span class="n">checkpoint_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">notebook_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">notebook_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">create_checkpoint</span><span class="p">(</span><span class="n">backend</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="p">,</span>
                                           <span class="n">notebook_id</span><span class="o">=</span><span class="n">notebook_id</span><span class="p">,</span>
                                           <span class="n">notebook_path</span><span class="o">=</span><span class="n">notebook_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">checkpoint</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">checkpoint_id</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">id</span>

        <span class="n">experiment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">abortable</span><span class="o">=</span><span class="n">abortable</span><span class="p">,</span>
            <span class="n">monitored</span><span class="o">=</span><span class="n">run_monitoring_thread</span><span class="p">,</span>
            <span class="n">git_info</span><span class="o">=</span><span class="n">git_info</span><span class="p">,</span>
            <span class="n">hostname</span><span class="o">=</span><span class="n">hostname</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
            <span class="n">notebook_id</span><span class="o">=</span><span class="n">notebook_id</span><span class="p">,</span>
            <span class="n">checkpoint_id</span><span class="o">=</span><span class="n">checkpoint_id</span>
        <span class="p">)</span>

        <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">_start</span><span class="p">(</span>
            <span class="n">upload_source_entries</span><span class="o">=</span><span class="n">upload_source_entries</span><span class="p">,</span>
            <span class="n">abort_callback</span><span class="o">=</span><span class="n">abort_callback</span><span class="p">,</span>
            <span class="n">logger</span><span class="o">=</span><span class="n">logger</span><span class="p">,</span>
            <span class="n">upload_stdout</span><span class="o">=</span><span class="n">upload_stdout</span><span class="p">,</span>
            <span class="n">upload_stderr</span><span class="o">=</span><span class="n">upload_stderr</span><span class="p">,</span>
            <span class="n">send_hardware_metrics</span><span class="o">=</span><span class="n">send_hardware_metrics</span><span class="p">,</span>
            <span class="n">run_monitoring_thread</span><span class="o">=</span><span class="n">run_monitoring_thread</span><span class="p">,</span>
            <span class="n">handle_uncaught_exceptions</span><span class="o">=</span><span class="n">handle_uncaught_exceptions</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_push_new_experiment</span><span class="p">(</span><span class="n">experiment</span><span class="p">)</span>

        <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_experiment_link</span><span class="p">(</span><span class="n">experiment</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">experiment</span></div>

    <span class="k">def</span> <span class="nf">_get_experiment_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{base_url}</span><span class="s2">/</span><span class="si">{namespace}</span><span class="s2">/</span><span class="si">{project}</span><span class="s2">/e/</span><span class="si">{exp_id}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">display_address</span><span class="p">,</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">exp_id</span><span class="o">=</span><span class="n">experiment</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Project.create_notebook"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.create_notebook">[docs]</a>    <span class="k">def</span> <span class="nf">create_notebook</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new notebook object and return corresponding :class:`~neptune.notebook.Notebook` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~neptune.notebook.Notebook` object.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                # Instantiate a session and fetch a project</span>
<span class="sd">                project = neptune.init()</span>

<span class="sd">                # Create a notebook in Neptune</span>
<span class="sd">                notebook = project.create_notebook()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">create_notebook</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Project.get_notebook"><a class="viewcode-back" href="../../neptune-client/docs/project.html#neptune.projects.Project.get_notebook">[docs]</a>    <span class="k">def</span> <span class="nf">get_notebook</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notebook_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get a :class:`~neptune.notebook.Notebook` object with given ``notebook_id``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~neptune.notebook.Notebook` object.</span>

<span class="sd">        Examples:</span>

<span class="sd">            .. code:: python3</span>

<span class="sd">                # Instantiate a session and fetch a project</span>
<span class="sd">                project = neptune.init()</span>

<span class="sd">                # Get a notebook object</span>
<span class="sd">                notebook = project.get_notebook(&#39;d1c1b494-0620-4e54-93d5-29f4e848a51a&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">get_notebook</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">notebook_id</span><span class="o">=</span><span class="n">notebook_id</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">full_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Project qualified name as :obj:`str`, for example `john/sandbox`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">/</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Project(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">==</span> <span class="n">o</span><span class="o">.</span><span class="vm">__dict__</span>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_fetch_leaderboard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">min_running_time</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span><span class="o">.</span><span class="n">get_leaderboard_entries</span><span class="p">(</span>
            <span class="n">project</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="n">as_list</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span> <span class="n">states</span><span class="o">=</span><span class="n">as_list</span><span class="p">(</span><span class="n">state</span><span class="p">),</span>
            <span class="n">owners</span><span class="o">=</span><span class="n">as_list</span><span class="p">(</span><span class="n">owner</span><span class="p">),</span> <span class="n">tags</span><span class="o">=</span><span class="n">as_list</span><span class="p">(</span><span class="n">tag</span><span class="p">),</span>
            <span class="n">min_running_time</span><span class="o">=</span><span class="n">min_running_time</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_sort_leaderboard_columns</span><span class="p">(</span><span class="n">column_names</span><span class="p">):</span>
        <span class="n">user_defined_weights</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;channel&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;parameter&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">&#39;property&#39;</span><span class="p">:</span> <span class="mi">3</span>
        <span class="p">}</span>

        <span class="n">system_properties_weights</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;created&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s1">&#39;finished&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s1">&#39;owner&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s1">&#39;worker_type&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s1">&#39;environment&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;A sorting key for a column name.</span>

<span class="sd">            Sorts by the system properties first, then channels, parameters, user-defined properties.</span>

<span class="sd">            Within each group columns are sorted alphabetically, except for system properties,</span>
<span class="sd">            where order is custom.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">user_defined_weights</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">weight</span> <span class="o">=</span> <span class="n">user_defined_weights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">99</span><span class="p">)</span>
                <span class="n">system_property_weight</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">c</span>
                <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">system_property_weight</span> <span class="o">=</span> <span class="n">system_properties_weights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mi">99</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">weight</span><span class="p">,</span> <span class="n">system_property_weight</span><span class="p">,</span> <span class="n">name</span>

        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_current_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">NoExperimentContext</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_push_new_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_experiment</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_experiment</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_experiment</span>

    <span class="k">def</span> <span class="nf">_remove_stopped_experiment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">exp</span> <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span> <span class="k">if</span> <span class="n">exp</span> <span class="o">!=</span> <span class="n">experiment</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_shutdown_hook</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="p">:</span>
            <span class="c1"># stopping experiment removes it from list, co we copy it</span>
            <span class="n">copied_experiment_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">exp</span> <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_experiments_stack</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">copied_experiment_list</span><span class="p">:</span>
                <span class="n">exp</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></div>
</pre></div>

          </div>
      </div>
      <div class="clearer"></div>
    </div>


  <script src="/docker-config.js"></script>
  <script>
    /* !
     * JavaScript Cookie v2.2.1
     * https://github.com/js-cookie/js-cookie
     *
     * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
     * Released under the MIT license
     *
     * Minified by jsDelivr using Terser v3.14.1.
     * Original file: /npm/js-cookie@2.2.1/src/js.cookie.js
     *
     * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
     */
    !function(e){var n;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var t=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=t,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function r(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(t);/^[\{\[]/.test(c)&&(t=c)}catch(e){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var u in i)i[u]&&(f+="; "+u,!0!==i[u]&&(f+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+f}}function c(e,t){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var f=i[c].split("="),u=f.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=n(f[0]);if(u=(o.read||o)(u,a)||n(u),t)try{u=JSON.parse(u)}catch(e){}if(r[a]=u,e===a)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(n,t){i(n,"",e(t,{expires:-1}))},r.defaults={},r.withConverter=t,r}(function(){})});
  </script>

  <script>
    function initGA(isProduction) {
      if (!isProduction) {
        // eslint-disable-next-line no-console
        console.warn('GA will not load in development mode');
        return;
      }

      /* eslint-disable */
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-102823704-1', 'auto');
      ga('send', 'pageview');
      /* eslint-enable */
    }

    initGA(window.dockerConfig.isProduction);
  </script>

  <script>
    /* global heap, hj */

    var options = {
      devel: {
        appId: 569758,
      },
      prod: {
        appId: 569747,
      },
    };

    function initHotJar(isProduction) {
      var appId = getAppId(isProduction);

      appendHotJarScript(appId);
      tagRecording();
    }

    function appendHotJarScript(appId) {
      (function (h, o, t, j, a, r) {
        h.hj = h.hj || function () {
          (h.hj.q = h.hj.q || []).push(arguments);
        };
        h._hjSettings = {hjid: appId, hjsv: 5};
        a = o.getElementsByTagName('head')[0];
        r = o.createElement('script');
        r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
      })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
    }

    function getAppId(isProduction) {
      return isProduction ? options.prod.appId : options.devel.appId;
    }

    function tagRecording() {
      var TAG_RECORDING_DELAY = 5 * 1000;

      if (canSafelyTagRecording()) {
        hj('tagRecording', [ heap.identity ]);
      } else {

        // try until all needed libs and data is available
        window.setTimeout(tagRecording, TAG_RECORDING_DELAY);
      }
    }

    function canSafelyTagRecording() {
      return (
        typeof hj === 'function'
        && typeof heap === 'object'
        && typeof heap.identity === 'string'
        && heap.identity.length > 0
      );
    }

    initHotJar(window.dockerConfig.isProduction);
  </script>

  <script>
    function initIntercom(isProduction) {
      var options = {
        devel: {
          appId: 'wqilukic',
        },
        prod: {
          appId: 'yoy39he9',
        },
      };

      var username = window.Cookies.get('neptune-uid');

      window.intercomSettings = {
        app_id: getAppId(isProduction),
      };

      var isUsernamePreserved = typeof username === 'string' && username.length > 0;
      if (isUsernamePreserved) {
        window.intercomSettings.user_id = username;
      }

      function getAppId(isProduction) {
        return isProduction ? options.prod.appId : options.devel.appId;
      }


      // Intercom official integration code
      // eslint-disable-next-line
      (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/wqilukic';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
      // Intercom official integration code
    }

    initIntercom(window.dockerConfig.isProduction);
  </script>


  </body>
</html>